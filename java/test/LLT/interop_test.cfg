[suffix]
  cj = //
  info = //
[condition]
condition =
  LLVM
  Unix
[internal-var]
  compiler = cjc -j4
  clang = clang

  compile_shared_lib_opt = --output-type=dylib

  # java interoperation
  javac=javac
  java=java
#  import_java_interop = -linteroplib.interop -lcinteroplib -ljava.lang
  cp_cj_loader_java_interop = -cp .:${CANGJIE_HOME}/lib/library-loader.jar

  clang_interop_objc = -fmodules -fobjc-arc -I${CANGJIE_HOME}/include -L${CANGJIE_HOME}/runtime/lib/darwin_aarch64_cjnative -I. -L. -lcangjie-runtime
  cjc_interop_link_objc = -linteroplib.objc -lobjc-cangjie-isl -lobjc

  # cjpm mac LC_RPATH
  run_rpath = export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:$(pwd):$CANGJIE_DYLD_PATH:$CANGJIE_HOME/runtime/lib/darwin_aarch64_cjnative &&

[description]
  title = interop_test
[env]
  LD_LIBRARY_PATH=./:$LD_LIBRARY_PATH
  LC_ALL=en_US.UTF-8
